<!--
  Generated template for the StoryDetails page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->


<ion-menu [content]="content">

  <ion-header>
    <ion-toolbar>
        <ion-buttons left>
      <img src="assets/images/logo.png"/>
    </ion-buttons>
     
    </ion-toolbar>
  </ion-header>

  <ion-content >
      <ion-buttons right class="custombuttonsmenu custombuttonsmenuborderbottom">
        <button menuToggle>
        <ion-icon name="md-menu"></ion-icon>
        </button>
    </ion-buttons>
    <ion-list>
    <ion-item *ngFor="let field of arrayList; let i=index;">
        <!--<div *ngIf="field.readOnly == '1'" >-->
          <div *ngIf="!showEditableFieldOnly[i]" >
            <h3>{{field.title}}</h3>
            <div id="{{field.title}}_{{field.id}}" class="item" (click)="getFieldValues(field, i)" >{{field.assignTo}}</div>
          </div>

        
          <ion-label *ngIf="showEditableFieldOnly[i]" >{{field.title}}</ion-label>
          <select-alertless *ngIf="showEditableFieldOnly[i]"  (click)="getFieldValues(field)" item-content [(ngModel)]="changeBucket" (ionChange)="changeOption($event, i)">
              <ion-option *ngFor="let item of displayFieldvalue" value="{{item.Name}}" >{{item.Name}}</ion-option>
          </select-alertless>
        
    </ion-item>
 <!--<ion-item *ngFor="let field of arrayList">
    <ion-label>{{field.title}}</ion-label>
    <ion-select [(ngModel)]="demoSelectBox">
      <ion-option value="1">{{field.assignTo}}</ion-option>
    </ion-select>
  </ion-item>-->
    </ion-list>
  </ion-content>
</ion-menu>

<ion-header>
  <ion-navbar>
    <ion-title>Story Details</ion-title>
    <ion-buttons right>
      <a ion-button icon-only (click)="openPopover($event)">
        <i class="fa fa-user-circle-o" aria-hidden="true"></i>
      </a>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content #content no-padding > 
    <div class="padding10trl" >
    <ion-buttons start class="custombuttonsmenu custombuttonsmenumargintop">
        <button menuToggle>
        <ion-icon name="md-menu"></ion-icon>
        </button>
    </ion-buttons>
         </div >
     <div >
 <div class="dashboardbox_header">
                  <i class="Story"></i> <span class="ticketid">#{{taskDetails.ticketId}}</span> <span id="title" *ngIf="!enableEdatable"  (click)="titleEdit($event)" (blur)="text=el.innerText" class="tickettitle">{{taskDetails.title}}</span>
 <input *ngIf="enableEdatable" [(ngModel)]="titleAfterEdit"/>             
 </div>
    <button *ngIf="enableEdatable" (click)="updateTitleCancel()">Cancel</button>
    <button *ngIf="enableEdatable" (click)="updateTitleSubmit()">Submit</button>
    
    <div style="position: relative;" class="customtoggle">
      <i id="expand" (click)="expandDescription()" class="fa fa-chevron-down expand" aria-hidden="true"></i>
      <i id="collapse" (click)="collapseDescription()" class="fa fa-chevron-up collapse" aria-hidden="true"></i>
      <ion-card id="description" class="customcard">
        <div class="padding10r25 displayblock" [innerHTML] = " taskDetails.description "></div>
      </ion-card>
    </div> </div>
  

</ion-content>
