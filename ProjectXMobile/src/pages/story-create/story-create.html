<ion-header>
    <ion-navbar>
        <ion-title>Story Create</ion-title>
        <ion-buttons right>
            <a ion-button icon-only (click)="openPopover($event)">
               <i class="fa fa-user-circle-o" aria-hidden="true"></i>
            </a>
        </ion-buttons>
    </ion-navbar>
</ion-header>


<ion-content padding>
<div>
 
<form #createForm="ngForm" (ngSubmit)="submitted && onStoryCreate(createForm)"> 
    <ion-input type="file" placeholder="Title" [(ngModel)]="create.title" required name="create_title" #create_title ="ngModel" [ngModelOptions]="{standalone:true}"></ion-input>
    <div [hidden]="!create_title.errors.required" *ngIf="submitted && create_title.errors " class="text-md-danger text-ios-danger text-wp-danger">
    <i class="fa fa-exclamation-circle" aria-hidden="true"></i> Title is required</div>
   
    <ion-list>
      <ion-row>
      <ion-item *ngFor="let field of templatedataList; let i=index;" id="item_{{i}}">
        <div *ngIf="!showEditableFieldOnly[i]">
          <h3>{{field.title}}</h3>
          <!--<div id="field.title_field.id_{{i}}" (click)="getFieldValues(field, i)" *ngFor="let assignValue of field.assignData" class="spinnerlabel">{{assignValue.Name}}</div>-->
          <div id="field.title_field.id_{{i}}" (click)="openOptionsModal(field, i)" class="spinnerlabel">{{field.assignData[0].Name}}</div>
        </div>
      </ion-item>
      </ion-row>
    </ion-list>

<ion-list>
  <ion-col>
    <ion-item>
<input placeholder="Type your message here" [(ngModel)]="create.description" required name="create_description" #create_description ="ngModel"  cols="40" 
       rows="5"  style="width:300px; height:50px;" id="create_description" [ngModelOptions]="{standalone:true}">
   </ion-item>
    <div [hidden]="!create_description.errors.required" *ngIf="submitted && create_description.errors " class="text-md-danger text-ios-danger text-wp-danger">
    <i class="fa fa-exclamation-circle" aria-hidden="true"></i> Description is required</div>
   <ion-item>
    <input type="file"  class="form-control" [(ngModel)]="create.file" #create.file ="ngModel" name="files[]" id="choose-file" onchange="document.getElementById('create_description').value = this.value" multiple="multiple" [ngModelOptions]="{standalone:true}">
   </ion-item>

  </ion-col>
</ion-list>

<ion-list>
     <ion-row>
      <ion-item *ngFor = "let item of tasktypeList; let i=index;" id="item_{{i}}">
        <ion-label>{{item.name}}</ion-label>
        <ion-checkbox checked="false" [(ngModel)]="item.selected" [ngModelOptions]="{standalone:true}"></ion-checkbox>
    </ion-item>
     </ion-row>
   </ion-list>

<button ion-button center type="submit"  (click)="submitted = true;">Submit</button>

 </form> 
  </div>

  {{tasktypeList|json}}

</ion-content>
